extends layouts/base
include mixins/_view_helpers

block vars
  - bodyClass = "objective"
  - pageTitle = "!Objective"

block content
  .guidance-text-wrapper
    +guidanceText('!Tips for questions')
      p(data-l8n="content:question-create/guidance-text") !Your question should be focussed and specific, as the answers will influence the policy drafting process.

  .middle-container

    .objective-navigation
      .objective-navigation-list-wrapper
        ul.objective-navigation-list
          li
            a.clj-objective-navigation-item-objective(href="/objective")
              i.fa.fa-angle-left
              = " "
              span(data-l8n="content:objective-nav/back-to-objective") !Back to objective

    .objective-outline#outline
      h1.objective-title.clj-objective-title !Build safer cycling networks in the streets of Madrid.

    .objective-write-a-question
      h2(data-l8n="content:question-create/add-a-question") !Add a question to this objective
      //- can this be moved inside the mixin? (comment-create / clj ...)
      .question-create.clj-question-create
        +addQuestionForm(true)

block footerScripts
  script.
    // temp
    $(document).ready(function () {
      var pageNav = $('.objective-navigation-list-wrapper');
      var pageNavStickHeight = pageNav.offset().top;
      $(window).scroll(function () {
        if ($(this).scrollTop() > pageNavStickHeight) {
          pageNav.addClass("sticky");
        }
        else {
          pageNav.removeClass("sticky");
        }
      });
    });
